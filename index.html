<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Memory Game</title>
<style>
  body { font-family: Arial; text-align: center; background: #f0f0f0; }
  #game { display: grid; grid-template-columns: repeat(4, 80px); gap: 10px; justify-content: center; margin-top: 20px; }
  .card {
    width: 80px; height: 80px; background: white; display: flex;
    justify-content: center; align-items: center; font-size: 40px;
    cursor: pointer; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    user-select: none;
  }
  .matched { background: lightgreen; cursor: default; }
  #winVideo { display: none; margin-top: 20px; width: 300px; }
</style>
</head>
<body>

<h1>Memory Game</h1>
<div id="score">–û—á–∫–∏: 0</div>
<div id="game"></div>

<video id="winVideo" src="https://www.w3schools.com/html/mov_bbb.mp4" controls></video>

<script>
const EMOJIS = ['üçé','üçå','üçá','üçâ','üçí','ü•ù','üçç','üçë'];
let board = [...EMOJIS, ...EMOJIS];
board.sort(() => Math.random() - 0.5);

let firstChoice = null;
let secondChoice = null;
let lockBoard = false;
let score = 0;

const gameDiv = document.getElementById('game');
const scoreDiv = document.getElementById('score');
const winVideo = document.getElementById('winVideo');

function createBoard() {
  board.forEach((emoji, index) => {
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.index = index;
    card.textContent = '‚ùì';
    card.addEventListener('click', handleClick);
    gameDiv.appendChild(card);
  });
}

function handleClick(e) {
  if (lockBoard) return;

  const card = e.currentTarget;
  const index = card.dataset.index;

  if (card.textContent !== '‚ùì' || card.classList.contains('matched')) return;

  card.textContent = board[index];

  if (!firstChoice) {
    firstChoice = card;
    return;
  }

  secondChoice = card;
  lockBoard = true;

  if (board[firstChoice.dataset.index] === board[secondChoice.dataset.index]) {
    firstChoice.classList.add('matched');
    secondChoice.classList.add('matched');
    score++;
    scoreDiv.textContent = `–û—á–∫–∏: ${score}`;
    resetChoices();

    if (score === 8) {
      winVideo.style.display = 'block';
      winVideo.play();
    }
  } else {
    setTimeout(() => {
      firstChoice.textContent = '‚ùì';
      secondChoice.textContent = '‚ùì';
      resetChoices();
    }, 1000);
  }
}

function resetChoices() {
  firstChoice = null;
  secondChoice = null;
  lockBoard = false;
}

createBoard();
</script>

</body>
</html>
